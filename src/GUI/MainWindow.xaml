<Window x:Class="GUI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:oxy="http://oxyplot.org/wpf"
        mc:Ignorable="d"
        Title="Interpreter" Height="675" Width="1400">
    <DockPanel>
        <!-- Top Menu -->
        <Menu DockPanel.Dock="Top" Background="White">
            <MenuItem Header="_Help">
                <MenuItem x:Name="HelpTutorialButton" Header="Tutorial" Click="HelpTutorialButton_Click" />
            </MenuItem>
        </Menu>
        
        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="2*" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!-- Input Group -->
            <GroupBox Header="Code" Grid.Row="0" Grid.Column="0" Margin="0,0,5,5">
                <DockPanel Margin="5">
                    <DockPanel DockPanel.Dock="Bottom" Margin="0,5,0,0">
                        <Button x:Name="RunButton" 
                                DockPanel.Dock="Right"
                                Content="Run" 
                                Width="80"
                                Height="26"
                                Click="RunButton_Click" 
                                IsEnabled="False" />
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="OpenButton" 
                                    Content="Open" 
                                    Width="80"
                                    Height="26"
                                    Margin="0,0,5,0"
                                    Click="OpenButton_Click" />
                            <Button x:Name="SaveButton" 
                                    Content="Save" 
                                    Width="80"
                                    Height="26"
                                    Click="SaveButton_Click"
                                    IsEnabled="False" />
                        </StackPanel>
                    </DockPanel>
                    <TextBox x:Name="ExprTextBox" 
                             Text=""
                             TextChanged="ExprTextBox_TextChanged" 
                             AcceptsReturn="True" 
                             AcceptsTab="True"
                             ScrollViewer.VerticalScrollBarVisibility="Auto" 
                             FontSize="16" 
                             FontFamily="Cascadia Code Light" />
                </DockPanel>
            </GroupBox>

            <!-- Output + Plot Settings -->
            <GroupBox Header="Output / Plot Settings" Grid.Row="1" Grid.Column="0" Margin="0,0,5,0">
                <Grid Margin="5">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" MinWidth="300"/>
                    </Grid.ColumnDefinitions>

                    <!-- Output Text -->
                    <TextBox x:Name="OutputTextBox"
                             Grid.Column="0"
                             Margin="0,0,10,0"
                             Text=""
                             ScrollViewer.HorizontalScrollBarVisibility="Auto"
                             ScrollViewer.VerticalScrollBarVisibility="Auto"
                             IsReadOnly="True" 
                             FontSize="16" 
                             FontFamily="Cascadia Code Light" />

                    <!-- Plot Settings Panel -->
                    <StackPanel Grid.Column="1" VerticalAlignment="Top">
                        <!-- Minimum X -->
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Label Content="Minimum X:" 
                                   Grid.Column="0" 
                                   VerticalAlignment="Center"
                                   Padding="0,0,10,0"/>
                            <TextBox x:Name="MinimumXTextBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     TextChanged="MinimumXTextBox_TextChanged"/>
                        </Grid>

                        <!-- Maximum X -->
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Label Content="Maximum X:" 
                                   Grid.Column="0" 
                                   VerticalAlignment="Center"
                                   Padding="0,0,10,0"/>
                            <TextBox x:Name="MaximumXTextBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     TextChanged="MaximumXTextBox_TextChanged"/>
                        </Grid>

                        <!-- Resolution -->
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Label Content="Resolution:" 
                                   Grid.Column="0" 
                                   VerticalAlignment="Center"
                                   Padding="0,0,10,0"/>
                            <TextBox x:Name="ResolutionTextBox" 
                                     Grid.Column="1" 
                                     VerticalAlignment="Center"
                                     TextChanged="ResolutionTextBox_TextChanged"/>
                        </Grid>

                        <!-- Interference Checkbox -->
                        <CheckBox x:Name="InterferenceCheckbox" 
                                  Content="Interference" 
                                  Margin="0,10,0,5"
                                  VerticalAlignment="Center"/>

                        <!-- Clear Button -->
                        <Button x:Name="ClearButton" 
                                Content="Clear Plot" 
                                Margin="0,5,0,0"
                                Height="26"
                                Click="ClearButton_Click"/>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <!-- Plot View -->
            <GroupBox Header="Plot" Grid.Row="0" Grid.Column="1" Grid.RowSpan="2" Margin="0">
                <oxy:PlotView x:Name="PlotView" Margin="5"/>
            </GroupBox>
        </Grid>
    </DockPanel>
</Window>